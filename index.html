<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Текущий контроль — Открытая разработка месторождений</title>

<style>
body{
font-family: Arial;
background:#0f172a;
color:white;
margin:0;
padding:20px;
}

.container{
max-width:800px;
margin:auto;
}

.card{
background:#1e293b;
padding:20px;
border-radius:10px;
margin-bottom:15px;
}

button{
width:100%;
padding:12px;
margin:6px 0;
border:none;
border-radius:8px;
background:#2563eb;
color:white;
font-size:16px;
cursor:pointer;
}

button:hover{
background:#1d4ed8;
}

.score{
background:#334155;
padding:10px;
border-radius:8px;
margin-bottom:10px;
font-weight:bold;
}
</style>

</head>
<body>

<div class="container">

<div class="card">
<h2>Текущий контроль</h2>
<p>Открытая разработка месторождений</p>

<input id="name" placeholder="Введите ФИО"
style="width:100%;padding:10px;border-radius:6px;border:none;margin-top:10px;">

<button onclick="startTest()">Начать тест</button>

</div>

<div id="quiz"></div>

</div>

<script>

let student="";
let score=0;
let index=0;
let questions=[];

function rand(min,max){
return Math.floor(Math.random()*(max-min+1))+min;
}

function generateQuestionBank(){

return [

function(){
let f=rand(1,20);
let correct;

if(f<=4) correct=0;
else if(f<=10) correct=1;
else if(f<=16) correct=2;
else correct=3;

return{
q:`Коэффициент крепости пород f = ${f}. Определите категорию пород и необходимость буровзрывной подготовки.`,
a:[
"Мягкие породы, буровзрывные работы не требуются",
"Породы средней крепости, возможна частичная буровзрывная подготовка",
"Крепкие породы, требуется буровзрывная подготовка",
"Очень крепкие породы, обязательны интенсивные буровзрывные работы"
],
correct:correct
};
},

function(){
let k=rand(2,12);

return{
q:`Коэффициент вскрыши составляет ${k} м³/м³. Как это влияет на экономическую эффективность разработки?`,
a:[
"Эффективность повышается",
"Эффективность не изменяется",
"Эффективность снижается",
"Эффективность зависит только от транспорта"
],
correct: k>6 ? 2 : 0
};
},

function(){
let angle=rand(1,80);

let correct;

if(angle<=5) correct=0;
else if(angle<=25) correct=1;
else if(angle<=55) correct=2;
else correct=3;

return{
q:`Угол падения залежи составляет ${angle}°. Определите тип залежи.`,
a:[
"Горизонтальная",
"Пологая",
"Наклонная",
"Крутая"
],
correct:correct
};
},

function(){
return{
q:`Строительство капитальных траншей и создание доступа к залежи относится к какому этапу разработки месторождения?`,
a:[
"Подготовительный этап",
"Этап вскрытия месторождения",
"Этап добычи",
"Этап рекультивации"
],
correct:1
};
},

function(){
return{
q:`Удаление пустых пород, покрывающих полезное ископаемое, относится к:`,
a:[
"Добычным работам",
"Вскрышным работам",
"Подготовительным работам",
"Транспортным работам"
],
correct:1
};
},

function(){
return{
q:`Выемка полезного ископаемого и погрузка в транспорт относится к:`,
a:[
"Вскрышным работам",
"Добычным работам",
"Подготовительным работам",
"Разведочным работам"
],
correct:1
};
},

function(){
let d=rand(1,15);

let correct;

if(d<=3) correct=0;
else if(d<=8) correct=1;
else correct=2;

return{
q:`Расстояние транспортирования горной массы составляет ${d} км. Какой транспорт наиболее рационален?`,
a:[
"Автомобильный транспорт",
"Конвейерный транспорт",
"Железнодорожный транспорт",
"Любой транспорт одинаково эффективен"
],
correct:correct
};
},

function(){
return{
q:`Какие кондиции определяют качество и количество запасов полезного ископаемого на основе геологических данных?`,
a:[
"Геологические кондиции",
"Эксплуатационные кондиции",
"Проектные кондиции",
"Технические кондиции"
],
correct:0
};
},

function(){
return{
q:`Почему открытый способ разработки обеспечивает более высокую производительность по сравнению с подземным способом?`,
a:[
"Из-за отсутствия транспорта",
"Из-за возможности применения высокопроизводительной техники",
"Из-за отсутствия вскрышных работ",
"Из-за меньшей глубины"
],
correct:1
};
},

function(){
return{
q:`Что является основным недостатком открытого способа разработки месторождений?`,
a:[
"Высокая производительность",
"Большой объем вскрышных работ",
"Высокая механизация",
"Низкая себестоимость"
],
correct:1
};
},

function(){
return{
q:`Первый этап разработки месторождения называется:`,
a:[
"Подготовительный этап",
"Вскрытие",
"Добыча",
"Рекультивация"
],
correct:0
};
},

function(){
return{
q:`Уступ в карьере — это:`,
a:[
"Вертикальная выработка",
"Горизонтальная рабочая площадка",
"Транспортная выработка",
"Разведочная выработка"
],
correct:1
};
}

];

}

function startTest(){

student=document.getElementById("name").value;

if(student==""){
alert("Введите ФИО");
return;
}

let bank=generateQuestionBank();

let used=[];

while(questions.length<10){
let i=rand(0,bank.length-1);
if(!used.includes(i)){
questions.push(bank[i]());
used.push(i);
}
}

showQuestion();

}

function showQuestion(){

if(index>=questions.length){

document.getElementById("quiz").innerHTML=
`<div class="card">
<h2>Тест завершен</h2>
<p>${student}</p>
<p><b>Баллы: ${score}/100</b></p>
</div>`;

return;
}

let q=questions[index];

let html=
`<div class="card">

<div class="score">
Баллы: ${score}/100
</div>

<h3>Вопрос ${index+1} из 10</h3>

<p>${q.q}</p>`;

q.a.forEach((ans,i)=>{
html+=`<button onclick="answer(${i})">${ans}</button>`;
});

html+="</div>";

document.getElementById("quiz").innerHTML=html;

}

function answer(i){

if(i==questions[index].correct){

score+=10;

}

index++;

showQuestion();

}

</script>

</body>
</html>
